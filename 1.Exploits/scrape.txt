
### Scraping E-mails (8/31/2022) ###

A colleague recently contacted me about scraping some e-mails. Let's pretend this colleague wanted to get the e-mails of all the Gregs in the Economics department at Vanderbilt.  

I started by visiting the economics faculty webpage here (Link: https://as.vanderbilt.edu/economics/people/). The source of this page is really clean. Each faculty member has their own line in the source. Mine looks like this:  

<code><tr><td width='100'><img class='img-rounded' src='https://as.vanderbilt.edu/photos/economics/people/image.php/gregory-leo.jpg?width=100&image=https://as.vanderbilt.edu/photos/economics/people/gregory-leo.jpg' ></td><td align='left'><strong><a href='https://as.vanderbilt.edu/economics/bio/gregory-leo'>Gregory Leo</a></strong><br />Assistant Professor of Economics</td><td width='25%'><a href='mailto:g.leo@vanderbilt.edu'>Email</a><br /><a href='http://www.gregcleo.com/'>Website</a><br />615-875-9697<br />404 Calhoun Hall</td></tr><\code>

I managed to scrape the Greg e-mails with this 4-liner in R that uses no external packages.


pageSource = readLines('https://as.vanderbilt.edu/economics/people/')
matchingLines <- thepage[grep("Greg",pageSourse)]
emails <- regexec("mailto\\:(.*?)\\'",matchingLines)
emails <- sapply(regmatches(asst,emails),"[[",2)


The first line reads in the page source into a character vector. The second line pulls out all the lines that contain the string "Greg". The third line looks within these matching lines for the string "mailto:\\" followed by anything and then terminated by a single quote. It captures that "anything" into a "capture group". The fourth line pulls out those captured groups revealing just the emails. 

Now we have the e-mails:

[1] "gregory.w.huffman@vanderbilt.edu"
[2] "g.leo@vanderbilt.edu"     




